## 信号
信号用于通知进程发生了某种情况（linux内核设计与实现）；   提供了一种处理异步事件的方法（环境高级编程）   
线程（子进程）共享主线程（父进程）的信号处理函数，但线程有自己的信号屏蔽码，可以选择屏蔽某种信号，不会影响其他线程对于信号的处理；   
如果一个线程重新定义了信号处理函数，那么所有的线程包括主线程将使用这个新的信号处理函数

多线程环境下，如果一个线程崩掉，一般有由于段错误例如解引用空指针或者算术异常例如除0等情况，此时会向进程发送SIGSEGV或者SIGFPE信号；  
（1） 如果没有对此信号自定义信号处理函数，将对其采用默认行为，终止进程；    
（2）如果定义了信号处理函数，则按照信号处理函数执行；    
（3）如果线程屏蔽此信号，因为无法处理这个异常，使程序继续运行，一般也会使整个进程终止

当一个程序执行时（有一个父进程fork然后之后exec），所有信号的状态都是系统默认或者忽略；  
当fork产生一个子进程后，父子进程共享信号处理函数，但是当子进程调用exec后，之前要捕捉的信号被设置为执行默认动作或者忽略，而不再共享父进程的信号处理函数

阻塞信号：内核收到一个信号后，不忽略信号，而是一直记住它，直到进程就绪通知给进程   

信号处理程序可能会改变error的值，因此应当在刚进入信号处理函数时保存原error值，信号处理函数执行完再回复原error的值，注意是在信号处理函数中保存而不是其他地方，信号是异步发生的，无法确定出现的时间